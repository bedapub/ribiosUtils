<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><meta charset="utf-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><title>Match a column in data.frame to a master vector — matchColumn • ribiosUtils</title><script src="../deps/jquery-3.6.0/jquery-3.6.0.min.js"></script><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><link href="../deps/bootstrap-5.3.1/bootstrap.min.css" rel="stylesheet"><script src="../deps/bootstrap-5.3.1/bootstrap.bundle.min.js"></script><link href="../deps/font-awesome-6.5.2/css/all.min.css" rel="stylesheet"><link href="../deps/font-awesome-6.5.2/css/v4-shims.min.css" rel="stylesheet"><script src="../deps/headroom-0.11.0/headroom.min.js"></script><script src="../deps/headroom-0.11.0/jQuery.headroom.min.js"></script><script src="../deps/bootstrap-toc-1.0.1/bootstrap-toc.min.js"></script><script src="../deps/clipboard.js-2.0.11/clipboard.min.js"></script><script src="../deps/search-1.0.0/autocomplete.jquery.min.js"></script><script src="../deps/search-1.0.0/fuse.min.js"></script><script src="../deps/search-1.0.0/mark.min.js"></script><!-- pkgdown --><script src="../pkgdown.js"></script><meta property="og:title" content="Match a column in data.frame to a master vector — matchColumn"><meta name="description" content="Given a vector known as master vcector, a data.frame and one column of the
data.frame, the function matchColumnIndex matches the values in the
column to the master vector, and returns the indices of each value in the
column with respect to the vector. The function matchColumn returns
whole or subset of the data.frame, with the matching column in the exact
order of the vector."><meta property="og:description" content="Given a vector known as master vcector, a data.frame and one column of the
data.frame, the function matchColumnIndex matches the values in the
column to the master vector, and returns the indices of each value in the
column with respect to the vector. The function matchColumn returns
whole or subset of the data.frame, with the matching column in the exact
order of the vector."></head><body>
    <a href="#main" class="visually-hidden-focusable">Skip to contents</a>


    <nav class="navbar navbar-expand-lg fixed-top bg-light" data-bs-theme="light" aria-label="Site navigation"><div class="container">

    <a class="navbar-brand me-2" href="../index.html">ribiosUtils</a>

    <small class="nav-text text-muted me-auto" data-bs-toggle="tooltip" data-bs-placement="bottom" title="">1.7.8</small>


    <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbar" aria-controls="navbar" aria-expanded="false" aria-label="Toggle navigation">
      <span class="navbar-toggler-icon"></span>
    </button>

    <div id="navbar" class="collapse navbar-collapse ms-3">
      <ul class="navbar-nav me-auto"><li class="active nav-item"><a class="nav-link" href="../reference/index.html">Reference</a></li>
      </ul><ul class="navbar-nav"><li class="nav-item"><form class="form-inline" role="search">
 <input class="form-control" type="search" name="search-input" id="search-input" autocomplete="off" aria-label="Search site" placeholder="Search for" data-search-index="../search.json"></form></li>
<li class="nav-item"><a class="external-link nav-link" href="https://github.com/bedapub/ribiosUtils/" aria-label="GitHub"><span class="fa fab fa-github fa-lg"></span></a></li>
      </ul></div>


  </div>
</nav><div class="container template-reference-topic">
<div class="row">
  <main id="main" class="col-md-9"><div class="page-header">

      <h1>Match a column in data.frame to a master vector</h1>
      <small class="dont-index">Source: <a href="https://github.com/bedapub/ribiosUtils/blob/master/R/matchColumn.R" class="external-link"><code>R/matchColumn.R</code></a></small>
      <div class="d-none name"><code>matchColumn.Rd</code></div>
    </div>

    <div class="ref-description section level2">
    <p>Given a vector known as master vcector, a data.frame and one column of the
data.frame, the function <code>matchColumnIndex</code> matches the values in the
column to the master vector, and returns the indices of each value in the
column with respect to the vector. The function <code>matchColumn</code> returns
whole or subset of the data.frame, with the matching column in the exact
order of the vector.</p>
    </div>

    <div class="section level2">
    <h2 id="ref-usage">Usage<a class="anchor" aria-label="anchor" href="#ref-usage"></a></h2>
    <div class="sourceCode"><pre class="sourceCode r"><code><span><span class="fu">matchColumn</span><span class="op">(</span><span class="va">vector</span>, <span class="va">data.frame</span>, <span class="va">column</span>, multi <span class="op">=</span> <span class="cn">FALSE</span><span class="op">)</span></span></code></pre></div>
    </div>

    <div class="section level2">
    <h2 id="arguments">Arguments<a class="anchor" aria-label="anchor" href="#arguments"></a></h2>


<dl><dt id="arg-vector">vector<a class="anchor" aria-label="anchor" href="#arg-vector"></a></dt>
<dd><p>A vector, probably of character strings.</p></dd>


<dt id="arg-data-frame">data.frame<a class="anchor" aria-label="anchor" href="#arg-data-frame"></a></dt>
<dd><p>A <code>data.frame</code> object</p></dd>


<dt id="arg-column">column<a class="anchor" aria-label="anchor" href="#arg-column"></a></dt>
<dd><p>The column name (character) or index (integer between 1 and
the column number), indicating the column to be matched. Exceptionally
<code>0</code> is as well accepted, which will match the row names of the
<code>data.frame</code> to the given vector.</p></dd>


<dt id="arg-multi">multi<a class="anchor" aria-label="anchor" href="#arg-multi"></a></dt>
<dd><p>Logical, deciding what to do if a value in the vector is
matched to several values in the data.frame column. If set to <code>TRUE</code>,
all rows containing the matched value in the specified column are returned;
otherwise, when the value is set to <code>FALSE</code>, one arbitrary row is
returned. See details and examples below.</p></dd>

</dl></div>
    <div class="section level2">
    <h2 id="value">Value<a class="anchor" aria-label="anchor" href="#value"></a></h2>
    <p>For <code>matchColumnIndex</code>, if <code>multi</code> is set to <code>FALSE</code>,
an integer vector of the same length as the master vector, indicating the
order of the <code>data.frame</code> rows by which the column can be re-organized
into the master vector. When <code>multi</code> is <code>TRUE</code>, the returning
object is a list of the same length as the master vector, each item
containing the index (indices) of data.frame rows which match to the master
vector.</p>
<p>For <code>matchColumn</code>, a data.frame is always returned. In case
<code>multi=FALSE</code>, the returning data frame has the same number of rows as
the length of the input master vector, and the column which was specified to
match contains the master vector in its order. If <code>multi=TRUE</code>,
returned data frame can contain equal or more numbers of rows than the
master vector, and multiple-matched items are repeated.</p>
    </div>
    <div class="section level2">
    <h2 id="details">Details<a class="anchor" aria-label="anchor" href="#details"></a></h2>
    <p>See more details below.</p>
<p>The function is used to address the following question: how can one order a
<code>data.frame</code> by values of one of its columns, the order for which is
given in a vector (known as “master vector”). <code>matchColumnIndex</code>
and <code>matchColumn</code> provide thoroughly-tested implementation to address
this question.</p>
<p>For <code>one-to-one</code> cases, where both the column and the vector have no
duplicates and can be matched one-to-one, the question is straightforward to
solve with the <code>match</code> function in R. In <code>one-to-many</code> or
<code>many-to-many</code> matching cases, the parameter <code>multi</code> determines
whether multiple rows matching the same value should be shown. If
<code>mutli=FALSE</code>, then the sorted data.frame that are returned has exactly
the same row number as the input vector; otherwise, the returned data.frame
has more rows. See the examples below.</p>
<p>In either case, in the returned <code>data.frame</code> object by
<code>matchColumn</code>, values in the column used for matching are overwritten
by the master vector.If <code>multi=TRUE</code>, the order of values in the column
is also obeying the order of the master vector, with exceptions of repeating
values casued by mutliple matching.</p>
<p>The <code>column</code> parameter can be either character string or non-negative
integers. In the exceptional case, where <code>column=0L</code> (“L”
indicates integer), the row names of the <code>data.frame</code> is used for
matching instead of any of the columns.</p>
<p>Both functions are NA-friendly, since NAs in neither vector nor column
should break the code.</p>
    </div>
    <div class="section level2">
    <h2 id="note">Note<a class="anchor" aria-label="anchor" href="#note"></a></h2>
    <p>When <code>multi=TRUE</code>, the indices within each list element
(for <code>matchColumnIndex</code>) are returned in ascending order.</p>
    </div>
    <div class="section level2">
    <h2 id="see-also">See also<a class="anchor" aria-label="anchor" href="#see-also"></a></h2>
    <div class="dont-index"><p>See <code><a href="https://rdrr.io/r/base/match.html" class="external-link">match</a></code> for basic matching operations.</p></div>
    </div>
    <div class="section level2">
    <h2 id="author">Author<a class="anchor" aria-label="anchor" href="#author"></a></h2>
    <p>Jitao David Zhang &lt;jitao_david.zhang@roche.com&gt;</p>
    </div>

    <div class="section level2">
    <h2 id="ref-examples">Examples<a class="anchor" aria-label="anchor" href="#ref-examples"></a></h2>
    <div class="sourceCode"><pre class="sourceCode r"><code><span class="r-in"><span></span></span>
<span class="r-in"><span><span class="va">df</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/data.frame.html" class="external-link">data.frame</a></span><span class="op">(</span>Team<span class="op">=</span><span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"HSV"</span>, <span class="st">"BVB"</span>, <span class="st">"HSC"</span>, <span class="st">"FCB"</span>, <span class="st">"HSV"</span><span class="op">)</span>,</span></span>
<span class="r-in"><span>                 Pkt<span class="op">=</span><span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">25</span>,<span class="fl">23</span>,<span class="fl">12</span>,<span class="fl">18</span>,<span class="fl">21</span><span class="op">)</span>,</span></span>
<span class="r-in"><span>                 row.names<span class="op">=</span><span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"C"</span>, <span class="st">"B"</span>, <span class="st">"A"</span>, <span class="st">"F"</span>, <span class="st">"E"</span><span class="op">)</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="va">teams</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"HSV"</span>, <span class="st">"BVB"</span>, <span class="st">"BRE"</span>, <span class="cn">NA</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="va">ind</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"C"</span>, <span class="st">"A"</span>, <span class="st">"G"</span>, <span class="st">"F"</span>, <span class="st">"C"</span>, <span class="st">"B"</span>, <span class="st">"B"</span>, <span class="cn">NA</span><span class="op">)</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="fu">matchColumnIndex</span><span class="op">(</span><span class="va">teams</span>, <span class="va">df</span>, <span class="fl">1L</span>, multi<span class="op">=</span><span class="cn">FALSE</span><span class="op">)</span></span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [1]  1  2 NA NA</span>
<span class="r-in"><span><span class="fu">matchColumnIndex</span><span class="op">(</span><span class="va">teams</span>, <span class="va">df</span>, <span class="fl">1L</span>, multi<span class="op">=</span><span class="cn">TRUE</span><span class="op">)</span></span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> $HSV</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [1] 1 5</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> $BVB</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [1] 2</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> $BRE</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [1] NA</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> $&lt;NA&gt;</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [1] NA</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-in"><span><span class="fu">matchColumnIndex</span><span class="op">(</span><span class="va">teams</span>, <span class="va">df</span>, <span class="st">"Team"</span>, multi<span class="op">=</span><span class="cn">FALSE</span><span class="op">)</span></span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [1]  1  2 NA NA</span>
<span class="r-in"><span><span class="fu">matchColumnIndex</span><span class="op">(</span><span class="va">teams</span>, <span class="va">df</span>, <span class="st">"Team"</span>, multi<span class="op">=</span><span class="cn">TRUE</span><span class="op">)</span></span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> $HSV</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [1] 1 5</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> $BVB</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [1] 2</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> $BRE</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [1] NA</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> $&lt;NA&gt;</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [1] NA</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-in"><span><span class="fu">matchColumnIndex</span><span class="op">(</span><span class="va">teams</span>, <span class="va">df</span>, <span class="fl">0</span>, multi<span class="op">=</span><span class="cn">FALSE</span><span class="op">)</span></span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [1] NA NA NA NA</span>
<span class="r-in"><span><span class="fu">matchColumnIndex</span><span class="op">(</span><span class="va">ind</span>, <span class="va">df</span>, <span class="fl">0</span>, multi<span class="op">=</span><span class="cn">FALSE</span><span class="op">)</span></span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [1]  1  3 NA  4  1  2  2 NA</span>
<span class="r-in"><span><span class="fu">matchColumnIndex</span><span class="op">(</span><span class="va">ind</span>, <span class="va">df</span>, <span class="fl">0</span>, multi<span class="op">=</span><span class="cn">TRUE</span><span class="op">)</span></span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> $C</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [1] 1</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> $A</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [1] 3</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> $G</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [1] NA</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> $F</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [1] 4</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> $C</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [1] 1</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> $B</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [1] 2</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> $B</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [1] 2</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> $&lt;NA&gt;</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [1] NA</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="fu">matchColumn</span><span class="op">(</span><span class="va">teams</span>, <span class="va">df</span>, <span class="fl">1L</span>, multi<span class="op">=</span><span class="cn">FALSE</span><span class="op">)</span></span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span>      Team Pkt</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> C     HSV  25</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> B     BVB  23</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> NA    BRE  NA</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> NA.1 &lt;NA&gt;  NA</span>
<span class="r-in"><span><span class="fu">matchColumn</span><span class="op">(</span><span class="va">teams</span>, <span class="va">df</span>, <span class="fl">1L</span>, multi<span class="op">=</span><span class="cn">TRUE</span><span class="op">)</span></span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span>      Team Pkt</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> C     HSV  25</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> E     HSV  21</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> B     BVB  23</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> NA    BRE  NA</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> NA.1 &lt;NA&gt;  NA</span>
<span class="r-in"><span><span class="fu">matchColumn</span><span class="op">(</span><span class="va">teams</span>, <span class="va">df</span>, <span class="st">"Team"</span>, multi<span class="op">=</span><span class="cn">FALSE</span><span class="op">)</span></span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span>      Team Pkt</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> C     HSV  25</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> B     BVB  23</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> NA    BRE  NA</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> NA.1 &lt;NA&gt;  NA</span>
<span class="r-in"><span><span class="fu">matchColumn</span><span class="op">(</span><span class="va">teams</span>, <span class="va">df</span>, <span class="st">"Team"</span>, multi<span class="op">=</span><span class="cn">TRUE</span><span class="op">)</span></span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span>      Team Pkt</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> C     HSV  25</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> E     HSV  21</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> B     BVB  23</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> NA    BRE  NA</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> NA.1 &lt;NA&gt;  NA</span>
<span class="r-in"><span><span class="fu">matchColumn</span><span class="op">(</span><span class="va">ind</span>, <span class="va">df</span>, <span class="fl">0</span>, multi<span class="op">=</span><span class="cn">FALSE</span><span class="op">)</span></span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   Team Pkt</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 1  HSV  25</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 2  HSC  12</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 3 &lt;NA&gt;  NA</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 4  FCB  18</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 5  HSV  25</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 6  BVB  23</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 7  BVB  23</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 8 &lt;NA&gt;  NA</span>
<span class="r-in"><span><span class="fu">matchColumn</span><span class="op">(</span><span class="va">ind</span>, <span class="va">df</span>, <span class="fl">0</span>, multi<span class="op">=</span><span class="cn">TRUE</span><span class="op">)</span></span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   Team Pkt</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 1  HSV  25</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 2  HSC  12</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 3 &lt;NA&gt;  NA</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 4  FCB  18</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 5  HSV  25</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 6  BVB  23</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 7  BVB  23</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 8 &lt;NA&gt;  NA</span>
<span class="r-in"><span></span></span>
</code></pre></div>
    </div>
  </main><aside class="col-md-3"><nav id="toc" aria-label="Table of contents"><h2>On this page</h2>
    </nav></aside></div>


    <footer><div class="pkgdown-footer-left">
  <p>Developed by Jitao David Zhang, Clemens Broger.</p>
</div>

<div class="pkgdown-footer-right">
  <p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.2.0.</p>
</div>

    </footer></div>





  </body></html>

